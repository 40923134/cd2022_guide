var tipuesearch = {"pages": [{'title': 'About', 'text': '本導引倉儲:  https://github.com/mdecycu/cd2022_guide \n 本導引網站:  https://mde.tw/cd2022_guide \n 課程倉儲與網站: \n https://github.com/mdecycu/cd2022 \n https://mde.tw/cd2022 \n 網路設定: \n 由於目前電腦輔助設計室中的電腦只要將網路連接到系上的主幹 (因為課程要全面在純 IPv6 網段上運作), 直接連外, 電腦中就會有蠕蟲程式啟動攻擊(Why?, 如何找到攻擊源頭?), 造成操作系統所安裝的防毒軟體為了防堵惡意攻擊而關閉網路連線. \n 為因應上述問題, 可以在切換至連外網段後, 將系統的代理主機自動偵測關閉, 且自行設定能夠支援 IPv6 與 IPv4 的代理主機, 並且關閉網路卡的 IPv4 網路協定, 就可以避開惡意軟體的攻擊. \n 若要在開機後, 防毒軟體啟動前, 以批次檔案的執行, 自動完成上述三項設定, 可以參考: \n 電腦輔助設計室  IPv6 網路設定 \n 分組: \n 利用 Ethercalc 收集各班學員的 Github 帳號與組別, 存入  https://github.com/mdecycu/studlist/tree/main/2022spring \n 各學員若 github 帳號有更動, 可以自行至  https://github.com/mdecycu/studlist \xa0 倉儲, 以 pull requests 進行修改. \n 以 2b 為例, 每一大組 8 人, 且分為兩個 4 人小組, 目前可以透過  http://mde.tw/studlist/2022spring/2b.txt  讀取. 且透過  read_data_from_nfulist.py  可以在近端讀取各班學員的 github 帳號與組別. \n 目前碰到的問題是: \n 能不能透過隨機方式自動幫尚未納組的學員分組? \n 能不能直接在網站上顯示出各學員的 cd2022 課程倉儲與網站? \n 參考:  grp_2022 ,  2a 分組程式練習 ,  2b 分組程式練習 \n 下載課程工具: \n 協同產品設計實習課程將會用到 NX1980, 若在電腦輔助設計室, 可以直接從  http://wcm.cycu.org:88/  下載. \n NX12 版 (2017.10) 之後的版號: \n 2019.01: NX1847 開始啟動 Continuous Release \n 2019.06: NX1872 啟動每半年釋出一個累加 27 的 Series 版次號. \n 2019.12: NX1899 = NX1872 + 27 \n 2020.06: NX1926 = NX1899 + 27 \n 2020.12: NX1953 = NX1926 + 27 \n 2021.06: NX1980 = NX1953 + 27 \n 2021.12: NX2007 = NX1980 + 27 \n 2022.06: NX2034 = NX2007 + 27 \n 讀取各學員每週工作內容: \n 當完成分組後, 且各學員已經透過各自 Github 帳號下的 cd2022 倉儲開始執行課程任務後, 能否透過程式逐日或逐週讀取各學員的工作內容? \n 課程第一階段要求: \n 每一個大組都要設法提供 solvespace, NX1980 格式的  uarm  (Onshape 格式) 機械手臂零組件. \n \n \n \n \n Please enable JavaScript to view the  comments powered by Disqus.', 'tags': '', 'url': 'About.html'}, {'title': 'IPv6', 'text': '電腦輔助設計室  IPv6 網路設定 \n 手機、筆電或平板可以透過 810WIFI 無線網路接點連線, 取得系網 IPv6 連外網址與 IPv4 NAT 內部網址. \n 智慧財產局學校行政與電算中心篇 \n 如何避免惡意軟體的侵害 ? \n 問題: \n 為何不使用 NAT 機制, 而讓電腦輔助設計室中的電腦直接連上外部網路? \n 因為與 IPv4 協定比較, IPv6 協定安全性較高, 且直接連外可取得較大頻寬, 無需採 port mapping 就可啟動 IPv6 協定伺服器. \n 使用 IPv6 連網有哪些好處? 有沒有壞處? \n 好處如上, 而壞處是若要連線到只支援 IPv4 協定的網站, 需要透過雙協定支援的 Proxy, 其中包括 http(s) 與 git. \n 如何使用批次檔案完成 IPv6 網路設定, 避開惡意軟體的網路攻擊? \n 請參考  IPv6 網路設定  說明. \n', 'tags': '', 'url': 'IPv6.html'}, {'title': 'template and SSH', 'text': '以下教學影片說明如何利用  https://github.com/wcm2022/wcm2022  倉儲作為 template, 建立個人與分組的倉儲. 並且利用 putty 與 GIT_SSH 變數的設定, 採用 SSH 網路協定對 Github 上的倉儲進行改版: \n \n  接下來將 mp4 檔案從 downloads 目錄取出  \n \n \n \n   \n \n \n \n \n \n \n \n', 'tags': '', 'url': 'template and SSH.html'}, {'title': 'Grouping', 'text': 'cd2022  課程由學員自行分組, 每四人為一小組, 每兩小組組成一大組. \n 所有課程指定內容可由各小組組員討論 (每週至少開會一次, 且將小組討論過程與結論放入各小組分組倉儲) 後, 在個人所負責的項目執行完成後, 先納入個人 cd2022 倉儲後, 再依照組序整合至該小組組長的協同倉儲 (例如: 甲班第一大組的第一小組倉儲名稱將為: cd2022ag1-1, 甲班第一大組的第二小組倉儲名稱將為: cd2022ag1-2). \n 各大組成員每兩週在上課之前必須至少開會一次, 且將大組討論過程與結論放入各大組分組倉儲後 (例如: 甲班第一大組的倉儲名稱將為: cd2022ag1), 比較並統整各小組所完成的內容後, 將協同設計結果納入各大組的分組倉儲, 且各大組每兩週將利用課程時間進行網際協同分組簡報. \n 問題: \n 為什麼需要定期進行分組簡報? \n The Importance of Presentation Skills in Institutions of Higher Learning.pdf \n The 7 Main Reasons Why People Give Presentations.pdf \n 以下 Brython 程式可讀取各大組的學員分組資料後, 直接在網頁中列出各學員 cd2022 倉儲與網頁連結、各小組協同倉儲與網頁連結、以及各大組協同倉儲與網頁連結. \n 請注意: 各組學員 github 帳號下除建有個人 cd2022 倉儲外, 還必須 fork 大組倉儲 (例如: 甲班第一大組的倉儲名稱將為: cd2022ag1) 並在各大組進行網際協同分組簡報前, 與所屬大組的分組協同倉儲內容保持同步. \n grp_2022.py  ( run ) \n w4_2a_get_grp1_num_of_members.txt \n w4 2a 分組結果 \n', 'tags': '', 'url': 'Grouping.html'}, {'title': 'Pull requests', 'text': 'cd2022  (cd 為 collaborative design 縮寫) 協同產品設計實習課程的修課學員名單、Github 帳號與大組分組組別資料, 以 Tab (即 \\t) 隔開 ( 2a.txt  與  2b.txt ), 採用倉儲儲存, 再透過 Github Pages, 能讓任何成員從全球資訊網介面: \n http://mde.tw/studlist/2022spring/2a.txt \n http://mde.tw/studlist/2022spring/2b.txt \n 讀取資料內容. \n 採用 Github 存放各班學員相關資料的好處, 是可以讓學員自行透過 Pull Requests 的方式協同管理資料內容, 除能讓資料始終保持正確外版本. 當學員的 Github 帳號或組別有異動時, 能夠自行維護並留下改版紀錄. \n 協同產品設計流程中最重要的概念是: 如何運用各種永續的方法, 讓產品設計的各階段工具與終端產品, 皆能採有效率的方式因應可能遭遇的變化. \n \n 利用 wcm2022 帳號修改  https://github.com/mdecycu/studlist  中的組別資料, 作為 pull request 範例. \n 動態網頁嵌入 Wink 影片的參考 html:  2a_w3_studlist_pull_requests_wink_html.txt \n \n \n \n  接下來將 mp4 檔案從 downloads 目錄取出  \n \n \n \n   \n \n \n \n \n \n \n \n \n \n \n  接下來將 mp4 檔案從 downloads 目錄取出  \n \n \n \n   \n \n \n \n \n \n \n \n', 'tags': '', 'url': 'Pull requests.html'}, {'title': 'Revealjs', 'text': 'https://revealjs.com/  是一個 Javascript 程式框架, 可用來建立全球資訊網上的簡報. \n https://github.com/hakimel/reveal.js  引用了許多 Javascript 程式庫, 這些程式庫的改版非常頻繁, 經常造成改版頻率相對緩慢的  cmsimde  經常收到來自 Github 的改版通知. \n 因此在利用  cmsimde  建立 cd2022 課程網站與大分組網站時, 若要直接使用 Reveal.js 建立線上簡報, 就必須將\xa0 cmsimde  的 reveal 目錄內容保持在最新的 Reveal.js 版本. \n https://github.com/mdecycu/cmsimde_site  就是用於開發  cmsimde  的倉儲. cmsimde_site 的 main 分支直接將  cmsimde  內容放入 cmsimde 目錄, 可以直接根據需求修改其中的任何內容, 當測試無誤後(尚未使用  unittest ), 將改版內容反應至  cmsimde  後, 將在 cmsimde_site 倉儲中的 submodule 分支中進行測試. \n 由於 cmsimde_site 的 main 分支直接將 cmsimde 當作子目錄, 而 submodule 分支則將 cmsimde 當作子模組. 從 main 分支切換到 submodule, 由於需要同時取下 cmsimde 子模組資料, 因此使用: \n git checkout -f submodule --recurse-submodules \n 而從 submodule 分支切換回 main 分支, 則使用: \n git checkout -f main \n cmsimde  倉儲中的 config/reveal.leo 使用  Leo Editor  編輯各簡報頁面內容. reveal.leo 中包含 demo.html 中的各種簡報應用, 使用者可以從 Leo Editor 專案中取出所需的簡報頁面進行編輯. \n \n  接下來將 mp4 檔案從 downloads 目錄取出  \n \n \n \n   \n \n \n \n \n \n \n \n', 'tags': '', 'url': 'Revealjs.html'}, {'title': 'Meeting', 'text': 'https://www.atlassian.com/blog/teamwork/how-to-run-effective-meetings \n Most of us don’t have formal training in meeting management skills, but anyone can learn to do it well – whether your team is in the office, fully virtual, or hybrid. \n An efficient meeting starts promptly, stays on track due to good time management, includes as few people as possible, and achieves the stated objective. \n An effective meeting brings a thoughtfully selected group of people together for a specific purpose, provides a forum for open discussion, and delivers a tangible result: a decision, a plan, a list of great ideas to pursue, a shared understanding of the work ahead. Not only that, but the result is then shared with others whose work may be affected. \n Successful meetings have a clear purpose. \n Meetings should never be held for the sole purpose of sharing information – that’s what email, chat, and company intranets (e.g., Confluence) are for. Department and company all-hands meetings are a notable exception. They provide a unique chance for people at all levels of the business to hear directly from executives and other decision-makers – and, if you include time for Q&A, vice-versa. \n In the best-case scenario, a meeting’s purpose is to make a decision or create something collaboratively. Project planning, mapping out customer journeys, setting goals, solving a problem, choosing X vs. Y … all these are situations where holding a meeting is probably the most effective way to get it done. \n Effective meetings keep attendees engaged. \n Effective meetings provide a safe space for divergent thinking. \n Effective meetings produce real, shareable results. \n https://www.nytimes.com/guides/business/how-to-run-an-effective-meeting \n Set the Agenda \n Start on Time. End on Time. \n End with an Action Plan \n https://hbr.org/1976/03/how-to-run-a-meeting \n https://slack.com/blog/productivity/run-effective-meetings \n https://www.scoro.com/blog/tips-for-effective-meeting-management/ \n 結論是: 在協同產品設計流程, 該如何開會? \n', 'tags': '', 'url': 'Meeting.html'}, {'title': 'Assignments', 'text': '協同產品設計實習課程學員評分要點: \n sustainable (可持續使用, 永續): \n 1 : capable of being sustained (可持續) \n 2a : of, relating to, or being a method of harvesting (獲取成果) or using a resource (運用資源) so that the resource (該資源) is not depleted (不致枯竭) or permanently damaged (永久損壞). \n 2b : of or relating to a lifestyle involving the use of sustainable methods (採取永續的生活方式) \n 在 cd2022 課程 sustainable 代表所採行的解題方式,  為所有分組組員認可是當下環境中, 最佳處理方式與流程, 可作為其他分組學習並能在課程各階段任務中延續使用 . \n resilience (應變能力, 韌性): \n 1 : the capability of a strained body (承受應變物體) to recover its size and shape after deformation caused especially by compressive stress (尤指受到壓縮應力) \n 2 : an ability to recover (回復能力) from or adjust easily (易於調適) to misfortune or change (面臨意外情境或變化) \n 在 cd2022 課程 resilience 代表 各分組成員需具備一定的應變處理能力 . \n 20220302 工作流程: \n \n 將 cadlab 網路連線接到系 backbone (使用純 IPv6 設定後, 為了連結到 IPv4 網站, 必須透過雙協定支援的 proxy server) \n 將兩個隨身碟放入電腦 USB 3.0 插槽 (與 2.0 速度差 10 倍) \n 啟動電腦 \n 在 Windows 10 尚未啟動防毒軟體之前, 以系統管理員身分執行 1_ipv6_network_setup.bat (為了避開蠕蟲惡意的網路攻擊) \n 批次檔案將會開啟 Firefox 連結到 cd2022 課程網頁與倉儲 \n 希望修改 cmsimde 倉儲內容, 以 git clone --recurse-submodules git@github.com:mdecourse/cmsimde.git 取下倉儲資料時, 電腦回報沒有 correct access rights \n 上個步驟表示 putty session github.com 並沒有設定, 可帶出上週在 cdb 從 registry 匯出的 2022_cdb.reg, 直接以滑鼠點擊執行後, 再次執行 git clone --recurse-submodules git@github.com:mdecourse/cmsimde.git 取下 cmsimde 倉儲 \n 但 cmsimde 無法直接產生靜態網頁與動態網頁, 因此以 cmsimde_site 倉儲納入 cmsimde 程式碼, 進行修改後, 將資料回應至 cmsimde \n 需要新增 github 倉儲, 因此必須登入 github.com 建立 cmsimde_site 倉儲 (能不能直接在近端使用 ssh 與程式建立 github 倉儲?) \n 因為要取 2a 學員 github 帳號, 以 ssh 登入 .17 電腦, 啟動 ethercalc \n 由於必須從教務主機取得 2a 學員學號, 經由 heroku 雲端主機取得  https://nfulist.herokuapp.com/?semester=1102&courseno=0752&column=True \n 連接至 cd2022 gitter, 告知擷取 2a github 帳號的 ethercalc 表單連結 \n cd2022 要求每一學員必須在 github 帳號下建立 cd2022 倉儲與網頁, 並且由各小組組長建立 cd2022ag1-1 (為第一組第一小組), 且每位學員在 cd2022ag1-1 都擁有 git push 權限, 或採 pull requests 方式修改小組分組倉儲內容 \n 而每一大組的組長負責建立 cd2022ag1 (為 2a 第一大組為例) 後, 各大組學員對分組倉儲可以擁有 git push 權限, 或各學員採 pull requests 方式修改大分組倉儲內容 \n 各學員在每週會議後, 個人所負責完成的內容或簡報必須先放到個人的 cd2022 倉儲後, 再透過小組協同倉儲練習如何解決組員間提交內容的衝突後, 再整合至各大組的協同倉儲. \n 接著要從 ethercalc 取下 2a 學員的 github 帳號與大組分組資料, 並存入 studlist 倉儲 (能不能用程式協助?) \n \n 2a w2 assignments: \n 1. 在個人帳號下, 使用 最新版的 cmsimde  建立 cd2022: \n 以子模組的方式建立倉儲: \n git submodule add https://github.com/mdecourse/cmsimde.git cmsimde \n 或者直接將 cmsimde 倉儲作為 cmsimde 目錄: \n git clone --recurse-submodules https://github.com/mdecourse/cmsimde.git \n 然後再將沒有 git 版本資料的 cmsimde 目錄放到個人倉儲. \n 2. 根據  https://mde.tw/cd2022_guide/content/Grouping.html \xa0 中的 2b 程式執行, 配合  https://mde.tw/studlist/2022spring/2a.txt  修改為能夠直接在頁面顯示各組員的 cd2022 倉儲與網頁連結, 以及各學員協同大分組倉儲與網頁連結 (例如: cd2022ag1). 3. 能否透過 github api 程式 (也可以逐一進入各班組員 github 帳號, 以手動查驗後, 以表格列出結果), 列出 w2 階段各組員帳號下 cd2022 與 cd2022ag1 (以 2a 第一組組員為例) 是否符合陽春的 cmsimde_site 內容. (例如: 透過  https://github.com/PyGithub/PyGithub ) \n 2bw2: \n 建立個人 cd2022 與 cd2022bg1 (以 2b 第一大組為例) 時, 可以用 import  cmsimde_site  倉儲 (但 history 將會是 mdecourse 而非學員), 或 git submodule add 或直接將 cmsimde 下載  https://github.com/mdecourse/cmsimde/archive/refs/heads/master.zip  後解開為倉儲下的 cmsimde 目錄, 之後再將 up_dir 內容複製到倉儲根目錄. 當評分檢查時, 各大組需繳交全班各學員是否達成任務要求. \n cd2022 w2 任務 1: \n 請各組利用一個小時建立一個欄位以 tab 隔開的 txt 檔案, 欄位標題分別為學號, 個人倉儲, 大分組倉儲排列, 按照各班學員學號順序 ( 2a 修課學員 ,  2b 修課學員 ). 完成後請各大組將結果回應至  2b w2 討論區 .', 'tags': '', 'url': 'Assignments.html'}, {'title': '各週任務', 'text': 'w2 任務: \n 問題緣起: \n 第二週的任務 啟動源頭 來自課程實際分組時所產生的問題. \n 各班利用 Ethercalc 表單同步輸入 github 帳號與組別時, 將資料存入  https://github.com/mdecourse/studlist  倉儲. \n 經由 Github Pages 設定後, 可由  https://mde.tw/studlist/2022spring/2a.txt  讀取甲班的學員帳號及分組資料 (各欄位以 tab 隔開), 而從  https://mde.tw/studlist/2022spring/2b.txt  則可讀取乙班的學員帳號及分組資料. \n 指定任務: \n 請學員以全球資訊網頁的 URL 讀取各班資料後, 是否能夠以永續便捷的方式取得已經選好組別的 學員學號 、學員 個人倉儲連結 、學員 個人網站 、各組位於學員帳號下的 大組倉儲 以及各學員帳號下各大組的 協同網站 . \n 而針對尚未填入 github 帳號的學員, 以其學號作為其 github 帳號. 針對尚未列出分組序號的學員, 則委由隨機方式編入尚不足 8 名學員的組別, 若各組已經都補滿 8 名學員, 仍餘有尚未分組的學員時, 則採隨機方式從各班第一組依序補入各組後, 分別在個人及大分組的 w2 標題頁面中, 列出各大組與全班的上述要求資料. \n 到了 w4 各班學員分組已經底定, 若採 Brython 方式(全球資訊網前端)將學員資料讀出後進行排序與整合, 可以如  https://mde.tw/cd2022_guide/content/Brython.html  中, 直接在網頁上即時列出與  https://mde.tw/studlist/2022spring/2a.txt  及  https://mde.tw/studlist/2022spring/2b.txt  對應的學員倉儲與網頁連結, 以及各學員帳號下的大組同步倉儲與網頁連結. \n 接下來若要採 CPython (全球資訊網後端或  CLI/GUI  模式)在 Windows 環境中執行運算, 該如何進行? \n w3 任務: \n 問題緣起: \n w2 完成分組後, 各組即進入利用 NX1980 繪製 uArm 機械手臂的協同設計階段, 其中包括手臂兩側的正齒輪減速機設計, 以及各連桿與組立所需要的其他組件設計等 (完成圖如  Onshape 中的 uArm 組立圖 ). \n uArm 機械手臂的初步設計目的, 是完成 NX1980 組立圖後, 能轉入 Coppeliasim 環境中進行機電系統組合模擬, 讓操作者透過  Custom UIs 介面 操控四個自由度的 uArm 步進伺服馬達. \n 指定任務: \n 這裡 有 38 個比較接近 NX1980 版本功能的教學影片 ( 連結 ), 請以每一學員分配 5 個影片的原則, 由各學員在 w3 標題頁面中, 根據影片中的教學內容, 以 Wink 影片互相對照的方式採 NX1980 執行操作進行整理, 完成後請將所負責的 Wink 教學影片嵌入個人與大分組的 w3 標題頁面中. \n w4 各班上課時段前 , 請各小組與大組成員分別開會討論後, 採協同設計流程執行上述任務, 並準備在 w4 上課時段中直接利用網頁簡報呈現各大組的執行流程與結果. \n', 'tags': '', 'url': '各週任務.html'}, {'title': 'Solvespace', 'text': '根據  https://mde.tw/cad2021/content/Compile%20Solvespace.html  中的說明, 可以利用  compile_copsim_for_cd2022.7z  (file size: 5 GB, extracted size: 17.3 GB), 完成編譯. \n 自行編譯 Solvespace 的目的是希望透過  https://www.coppeliarobotics.com/helpFiles/en/xmlFormat.htm  與  https://www.coppeliarobotics.com/helpFiles/en/importExport.htm  的資訊, 自行在 Solvespace 中將組立檔案直接轉入 Coppeliasim 的場景檔案. 其中牽涉如何將 Solvespace 組立件中的零件檔案進行分割後, 以  STL 、 URDF  或  SDF  格式直接轉入 Coppeliasim. \n', 'tags': '', 'url': 'Solvespace.html'}, {'title': 'NX', 'text': '', 'tags': '', 'url': 'NX.html'}, {'title': 'NX12', 'text': 'NX12 於 2017.10 釋出, 完整安裝容量約 18 GB. \n NX 自 NX10 之後支援 NXOpen Python API: \n https://docs.plm.automation.siemens.com/data_services/resources/nx/10/nx_api/en_US/custom/nxopen_python_ref \n https://docs.plm.automation.siemens.com/data_services/resources/nx/12/nx_api/custom/en_US/nxopen_python_ref \n 利用  https://github.com/cjrh/easycython  將 .pyx 轉為 .pyd 後, 由 .py 導入後執行, 可 提升  Python 程式的執行速度. ( 參考 ) \n References: \n https://slideplayer.com/slide/11624773/ \n NX Customization and Programming Discussion \n https://docs.plm.automation.siemens.com/data_services/resources/nx/12/nx_api/common/en_US/graphics/fileLibrary/nx/nxopen/nxopen_getting_started_v12.pdf \n https://docs.plm.automation.siemens.com/data_services/resources/nx/12/nx_api/common/en_US/graphics/fileLibrary/nx/snap/SNAP_Getting_Started_v12.pdf \n', 'tags': '', 'url': 'NX12.html'}, {'title': 'NX1980', 'text': "NX1980 於 2021.06 釋出, 完整安裝容量約 28 GB. \n NX1980 參考頁面: \n 有關 Siemens NX 的歷史, 請參考  https://en.wikipedia.org/wiki/Siemens_NX \n https://mde.tw/cd2022/content/NX1980.html \n 假如在系上網段, 可直接從  http://wcm.cycu.org:88  下載  http://wcm.cycu.org:88/NX1980_cd2022.7z . \n http://wcm.cycu.org:88  中目前有三個與可攜 Python 程式有關的檔案, 有何差別, 建立的目的為何? \n 請注意: 以下的 .7z 檔案下載, 只允許在系上網段上下載 . \n compile_copsim_cd2022.7z \xa0(file size: 5 GB, extracted size: 17.3 GB, 包含除了 NX1980 之外的所有課程相關可攜程式套件, 是專門為  cd2022  課程學員打造的套件). \n portable_python_wcm2022.7z  (file size: 513 MB, extracted size: 17.3 G, 這是專門為  wcm2022  課程打造的可攜程式套件, 適合選修學員下載後在任何 Windows 10 中以隨身碟啟動後操作) \n drive.7z  (file size: 2.6 MB, extracted size: 10 MB, 只包含 PUTTY, tcc, wscite 與 tmp 目錄, 採用 Hybrid 方式設定, 可與目前電腦輔助設計室中 SSD 硬碟所安裝的 Python 3.9.5 與  Portablegit  結合, 使用者只需自行設定啟動後的 home_ipv6 目錄與 home_ipv6/Desktop 目錄後即可以最輕薄便捷的方式將 SSH key 存入隨身碟, 並將個人與分組倉儲存入隨身碟啟動後的 tmp 目錄進行操作). \n 問題: \n http://wcm.cycu.org:88  是如何建置的? (採純 IPv6 設定, 且只允許特定網段下載) \n 使用  Nginx , 採用如下設定: \n worker_processes  1;\nevents {\n    worker_connections  1024;\n}\n\nhttp {\n    include       mime.types;\n    default_type  application/octet-stream;\n    sendfile        on;\n    keepalive_timeout  65;\n    server {\n        # port 80 僅開啟 IPv6 網路連線\n        listen       [::]:80 default ipv6only=on;\n        # 伺服器的符號名稱\n        server_name  xxx.xxxx.xxx;\n        return       301 https://$server_name$request_uri;\n    }\n\n   server {\n       # 同時開啟 IPv4 與 IPv6 連線, port 設為 88\n        listen       [::]:88 ipv6only=off;\n        listen       88;\n       # 允許系上 IPv4 網段連線\n        allow 140.xxx.xx.0/24;\n       # 允許特定單一 IPv4 電腦連線\n        allow xxx.xxx.xxx.xx;\n       # 允許系上 IPv6 網段連線\n        allow 2001:xxx:xxxx:xx::0/32;\n       # 其餘網段禁止連線\n        deny all;\n        location / {\n            # 根目錄設定\n            root X:/xxxxxx/xxxx/spring2022;\n            }\n        # 開啟 autoindex, 連線後會列出目錄下所有檔案內容\n        autoindex on;\n    }\n} \n 可攜 NX1980 是如何建立的? \n 利用  UniExtract2  將 NX1980 安裝檔案解開後, 透過批次檔案設定啟動. \n 如何讓 NX1980 認證伺服器 IPv6 相容? \n 開啟伺服器的 IPv6 網路連線. \n Siemens NX 套件更新頻率? \n 請參見  Updating the NX Installation . \n 每 6 個月釋出一個大改版, 每個月則各有一次小改版. \n NX1980 為 2021/06 釋出的版本. 目前 2022/03 最新版本為 2007 系列 ( What's new 2022/02 影片 ), 其他各版資訊請參考  https://nxcadtips.com/docs/list-of-nx-versions-with-documentation-links/ \n 如何學習利用 NX1980 進行 3D 零組件設計繪圖? \n NX1847 nx_help \n NX1980 線上 Documentation \n NX1855-1919 零組件設計繪圖 教學影片 \n 此一系列教學影片共有 38 個影片檔, 請各大組學員分別認領五個教學影片後, 以 Wink 製作教學影片後, 先將影片放入各自的 cd2022 網站中的 NX1980 H1 頁面中, 然後再整合至各小組與大組的協同網站中. \n 有關電腦輔助設計室 IPv6 網路設定流程, 可以利用手機參考 設定教學 後, 利用隨身碟中的 批次檔案 進行設定. \n 此階段的 NX1980 uArm 機械手臂零組件繪圖目的, 希望能以 NX1980 繪製 uArm ( Onshpae 中的 uArm 組立檔 , 使用者可以在手機中安裝 Onshpe App ( Android ,  iPhone ) 後開啟 uArm 組立檔) \n NX1980 如何取得啟動授權? \n 系上購買的 NX1980 教育版是透過網路連線取得啟動授權, 意即啟動 NX1980 時, 必須連接到系上的伺服器取得授權後, 才能開啟. \n 假如是在校外, 可以透過 IPv4 或 IPv6 網路連線取得授權, 若在協同產品設計實習上課時段, 則只能透過 IPv6 協定連網, 因此使用者可以在 start_NX1980.bat 多台授權伺服器如下: \n set SPLM_LICENSE_SERVER=port@IPv4_server_address;port@[IPv6_server_address] \n 就能同時在不同網路連線情況下, 啟動 NX1980. \n 以下的 bat 檔案, 能夠同時啟動 Python, Msys2 以及 NX1980: \n start_ipv6_nx1980_bat.txt \n 其中 Msys2 可用來編譯 Solvespace、SciTE、Fossil SCM 以及 CoppeliaSim, Python 可用來啟動個人動態與靜態網頁, 並透過 Leo Editor 編輯 Reveal.js 簡報.", 'tags': '', 'url': 'NX1980.html'}, {'title': 'Start_NX1980', 'text': 'NX1980 series 為 2021.06 的版本. \n 啟動 NX1980 全部模組, 容量約 28.6 GB. \n start_nx1980_all.bat \n @echo off\nset Disk=y\nsubst %Disk%: "data"\n\n%Disk%:\n\nset HomePath=%Disk%:\\home_mdecourse\nset HomeDrive=%Disk%:\\home_mdecourse\nset Home=%Disk%:\\home_mdecourse\nset USERPROFILE=%Disk%:\\home_mdecourse\n\nREM 將系統 Python 程式的 io 設為 utf-8\nset PYTHONIOENCODING="utf-8"\n\nset PYTHONPATH=%Disk%:\\py373\\DLLs;%Disk%:\\py373\\Lib;%Disk%:\\py373\\Lib\\site-packages;\nset PYTHONHOME=%Disk%:\\py373\n\nset path_python=%Disk%:\\py373;%Disk%:\\py373\\Scripts;\nset path_msys2=%Disk%:\\msys64\\mingw64\\bin;\nREM coreutils is for compiling fossil scm\nset path_coreutils=%Disk%:\\coreutils-5.3.0\\bin;%Disk%:\\depends22_x64;\nset path_tcc=%Disk%:\\tcc;\nset path_cmake=%Disk%:\\cmake-3.10.1-win64-x64\\bin;\nset path_nodejs=Disk%:\\nodejs;%Disk%:\\nodejs\\appdata\\roaming\\npm;\nset path_git=%Disk%:\\portablegit\\bin;\nset path_xming=%Disk%:\\Xming;\nset path_latex=%%Disk%:\\Pandoc;%Disk%:\\TinyTeX\\bin\\win32;\n\nREM for NX1980\nREM use ipv6\nset FNP_IP_PRIORITY=6\nset UGII_BASE_DIR=%Disk%:\\NX1980\nset TMP_DIR=%Disk%:\\tmp\nset UGII_USER_PROFILE_DIR=%Disk%:\\home_mdecourse\nset START_DIR=%TMP_DIR%\nset UGII_TMP_DIR=%TMP_DIR%\nset UGII_USER_DIR=%Disk%:\\tmp\nset UGII_GROUP_DIR=%Disk%:\\tmp\nset UGII_SITE_DIR=%Disk%:\\tmp\nset UGII_BASE_DIR_CUSTOM=%UGII_BASE_DIR%\n\nset SPLM_LICENSE_SERVER=28000@xxx.xxx.xx.xx;28000@[xxxx:xxx:xxxx:xx::xx];28000@192.168.56.3\nset UGII_LANG=english\n\nset UGII_ROOT_DIR=%UGII_BASE_DIR%\\ugii\nset UGS_LICENSE_BUNDLE=ACD10\nset UGII_TEMPLATE_DIR=%UGII_ROOT_DIR%\\templates\nset ugpath=%UGII_BASE_DIR%\\nxbin;%UGII_BASE_DIR%\\ugii;%UGII_BASE_DIR%\\NXBIN\\Radical;%UGII_BASE_DIR%\\NXBIN\\managed;\n\npath=%ugpath%;%path%;%Disk%:;%path_python%;%path_msys2%;%path_tcc%;%path_git%;%path_cmake%;%path_coreutils%;\n\nstart /MIN cmd.exe\nstart /MIN cmd.exe\nstart /MIN cmd.exe\nstart /MIN cmd.exe\n\nstart /MIN %Disk%:\\wscite415\\wscite\\SciTE.exe\nstart /MIN %Disk%:\\wscite415\\wscite\\SciTE.exe\n\n%UGII_BASE_DIR%\\ugii\\ugraf.exe -nx | start /d  %UGII_BASE_DIR%\\ugii %UGII_BASE_DIR%\\nxbin\\simcenter3d.exe | %UGII_BASE_DIR%\\ugii\\ugraf.exe -layout | %UGII_BASE_DIR%\\ugii\\ugraf.exe -view | %UGII_BASE_DIR%\\ugii\\ugraf.exe -mechatronics | %UGII_BASE_DIR%\\ugii\\ugraf.exe -simviewer\n\nExit \n 指啟動 NX1980 基本模組, 容量約 15 GB. \n start_nx1980.bat \n @echo off\nset Disk=y\nsubst %Disk%: "data"\n\n%Disk%:\n\nset HomePath=%Disk%:\\home_mdecourse\nset HomeDrive=%Disk%:\\home_mdecourse\nset Home=%Disk%:\\home_mdecourse\nset USERPROFILE=%Disk%:\\home_mdecourse\n\nREM 將系統 Python 程式的 io 設為 utf-8\nset PYTHONIOENCODING="utf-8"\n\nset PYTHONPATH=%Disk%:\\py373\\DLLs;%Disk%:\\py373\\Lib;%Disk%:\\py373\\Lib\\site-packages;\nset PYTHONHOME=%Disk%:\\py373\n\nset path_python=%Disk%:\\py373;%Disk%:\\py373\\Scripts;\nset path_msys2=%Disk%:\\msys64\\mingw64\\bin;\nREM coreutils is for compiling fossil scm\nset path_coreutils=%Disk%:\\coreutils-5.3.0\\bin;%Disk%:\\depends22_x64;\nset path_tcc=%Disk%:\\tcc;\nset path_cmake=%Disk%:\\cmake-3.10.1-win64-x64\\bin;\nset path_nodejs=Disk%:\\nodejs;%Disk%:\\nodejs\\appdata\\roaming\\npm;\nset path_git=%Disk%:\\portablegit\\bin;\nset path_xming=%Disk%:\\Xming;\nset path_latex=%%Disk%:\\Pandoc;%Disk%:\\TinyTeX\\bin\\win32;\n\nREM for NX1980\nREM use ipv6\nset FNP_IP_PRIORITY=6\nset UGII_BASE_DIR=%Disk%:\\NX1980\nset TMP_DIR=%Disk%:\\tmp\nset UGII_USER_PROFILE_DIR=%Disk%:\\home_mdecourse\nset START_DIR=%TMP_DIR%\nset UGII_TMP_DIR=%TMP_DIR%\nset UGII_USER_DIR=%Disk%:\\tmp\nset UGII_GROUP_DIR=%Disk%:\\tmp\nset UGII_SITE_DIR=%Disk%:\\tmp\nset UGII_BASE_DIR_CUSTOM=%UGII_BASE_DIR%\n\nset SPLM_LICENSE_SERVER=28000@xxx.xxx.xx.xx;28000@[xxxx:xxx:xxxx:xx::xx];28000@192.168.56.3\nset UGII_LANG=english\n\nset UGII_ROOT_DIR=%UGII_BASE_DIR%\\ugii\nset UGS_LICENSE_BUNDLE=ACD10,ACD11\nset UGII_TEMPLATE_DIR=%UGII_ROOT_DIR%\\templates\nset ugpath=%UGII_BASE_DIR%\\nxbin;%UGII_BASE_DIR%\\ugii;%UGII_BASE_DIR%\\NXBIN\\Radical;%UGII_BASE_DIR%\\NXBIN\\managed;\n\npath=%ugpath%;%path%;%Disk%:;%path_python%;%path_msys2%;%path_tcc%;%path_git%;%path_cmake%;%path_coreutils%;\n\nstart /MIN cmd.exe\nstart /MIN cmd.exe\nstart /MIN cmd.exe\nstart /MIN cmd.exe\n\nstart /MIN %Disk%:\\wscite415\\wscite\\SciTE.exe\nstart /MIN %Disk%:\\wscite415\\wscite\\SciTE.exe\n\n%UGII_BASE_DIR%\\ugii\\ugraf.exe -nx\n\nExit \n', 'tags': '', 'url': 'Start_NX1980.html'}, {'title': 'Portable NX1980', 'text': '在 Windows 10 配置可攜 NX1980 程式, 需要: \n \n https://github.com/Bioruebe/UniExtract2 \n https://github.com/wixtoolset/wix3/releases/tag/wix3112rtm \n \n 等兩項工具, UniExtract2 用來解開 SiemensNX-1980_wntx64\\nx\\SiemensNX.msi, 以及 .msi, 而 wix 則用來解開 SiemensNX-1980_wntx64\\nx\\VC_redist.x64.exe \n 製作 Portable NX1980 的步驟請參考以下影片: \n \n  接下來將 mp4 檔案從 downloads 目錄取出  \n \n \n \n   \n \n \n \n \n \n \n \n', 'tags': '', 'url': 'Portable NX1980.html'}, {'title': 'NX1980_setup', 'text': '以下影片說明如何設定 Journal 存檔格式, 關閉 Product Execellence Program, 並查驗版本與授權使用單位: \n w5_nx_api.txt \n \n  接下來將 mp4 檔案從 downloads 目錄取出  \n \n \n \n   \n \n \n \n \n \n \n \n', 'tags': '', 'url': 'NX1980_setup.html'}, {'title': 'NXOpen', 'text': '# nx_open_part.py\n# 導入 NXOpen\nimport NXOpen\nimport NXOpen.UF\nimport NXOpen.Gateway\n  \ndef main():\n    # 取得目前開啟的工作階段\n    theSession = NXOpen.Session.GetSession()\n    theUfSession = NXOpen.UF.UFSession.GetUFSession()\n     \n    # 建立 ListingWindow\n    listWin= theSession.ListingWindow\n    # 開啟零件檔案\n    basePart1 = theSession.Parts.OpenBaseDisplay("c:/tmp/block.prt")\n    workPart = theSession.Parts.Work\n    unit1 = workPart.UnitCollection.FindObject("MilliMeter")\n    # height\n    p7 = workPart.Expressions.FindObject("p7")\n    # width\n    p8 = workPart.Expressions.FindObject("p8")\n    # length\n    p9 = workPart.Expressions.FindObject("p9")\n    workPart.Expressions.EditWithUnits(p7, unit1, "30")\n    workPart.Expressions.EditWithUnits(p8, unit1, "60")\n    workPart.Expressions.EditWithUnits(p9, unit1, "90")\n    theSession.UpdateManager.DoUpdate(0)\n    #saveStatus1 = workPart.SaveAs("c:/tmp/block_new.prt")\n    #saveStatus1.Dispose()\n    # initialize list to hold bodies\n    theBodyTags = []\n  \n    for x in workPart.Bodies:\n        if x.IsSolidBody:\n            theBodyTags.append(x.Tag)\n     \n    # 準備輸出 ASCII 格式 STL 零件檔案\n    sTLCreator1 = theSession.DexManager.CreateStlCreator()\n    sTLCreator1.AutoNormalGen = True\n    sTLCreator1.ChordalTol = 0.08\n    sTLCreator1.AdjacencyTol = 0.08\n    sTLCreator1.OutputFile = "C:\\\\tmp\\\\block_ascii.stl"\n    # Binary STL: NXOpen.STLCreatorOutputTypeEnum.Binary\n    sTLCreator1.OutputType = NXOpen.STLCreatorOutputTypeEnum.Text\n    # 已知 body1 命名\n    body1 = workPart.Bodies.FindObject("EXTRUDE(2)")\n    added1 = sTLCreator1.ExportSelectionBlock.Add(body1)\n    nXObject1 = sTLCreator1.Commit()\n    sTLCreator1.Destroy()\n \n    # 開啟所建立的 ListingWindow\n    listWin.Open()\n    listWin.WriteLine("number of solid bodies: " + str(len(theBodyTags)))\n  \n    (massProps, Stats) = theUfSession.Modeling.AskMassProps3d(theBodyTags, len(theBodyTags), 1, 4, .03, 1, [0.99,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0])\n    listWin.WriteLine("units: kg, mm")\n    listWin.WriteLine("surface area: " + str(massProps[0]))\n    listWin.WriteLine("volume: " + str(massProps[1]*1E9))\n    # 在 ListingWindow 中寫入字串\n    listWin.WriteLine("Hello, NXOpen")\n    listWin.Close()\n    \n    # 將零件檔案 fit 之後, export 出 png 檔案\n    theUI = NXOpen.UI.GetUI()\n    imageExportBuilder1 = theUI.CreateImageExportBuilder()\n\n    custombackgroundcolor1 = [None] * 3 \n    custombackgroundcolor1[0] = 1.0\n    custombackgroundcolor1[1] = 1.0\n    custombackgroundcolor1[2] = 1.0\n\n    imageExportBuilder1.SetCustomBackgroundColor(custombackgroundcolor1)\n    imageExportBuilder1.FileFormat = NXOpen.Gateway.ImageExportBuilder.FileFormats.Png\n    imageExportBuilder1.FileName = "c:\\\\tmp\\\\block.png"\n\n    imageExportBuilder1.BackgroundOption = NXOpen.Gateway.ImageExportBuilder.BackgroundOptions.Original\n\n    imageExportBuilder1.EnhanceEdges = False\n    imageExportBuilder1.RegionMode = False\n    # fit view 後 commit export png\n    workPart.ModelingViews.WorkView.Fit()\n    nXObject6 = imageExportBuilder1.Commit()\n\n    imageExportBuilder1.Destroy()\n     \nif __name__ == "__main__":\n    main() \n', 'tags': '', 'url': 'NXOpen.html'}, {'title': 'UGOpen', 'text': 'Tiny C Compiler   可以 建立 dll 動態連結程式庫. 這樣有機會利用它來建立 UGOpen API 嗎? \n gear_model2.c \n /******************************************************************************\n *                                                                            *\n * PROGRAM DESCRIPTION -                                                      *\n *   The following example requires a blank, open part. The code creates a    *\n *   spur gear\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t  *\n * gear_model2.c\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t  *\n ******************************************************************************/\n\n#include <stdio.h>\n#include <math.h>\n#include <uf.h>\n#include <uf_defs.h>\n#include <uf_curve.h>\n#include <uf_modl.h>\n#include <uf_disp.h>\n#include <uf_ui.h>\n#include <uf_csys.h>\n#include <uf_obj.h>\n#include <uf_mtx.h>\n#include <uf_trns.h>\n#include <uf_view.h>\n\n#define POLES 6\n#define WEIGHT 1.0\n#define ORDER 6\n\n#define UF_CALL(X) (report( __FILE__, __LINE__, #X, (X)))\n\nstatic int report( char *file, int line, char *call, int irc)\n{\n  if (irc)\n  {\n     char    messg[133];\n     printf("%s, line %d:  %s\\n", file, line, call);\n     (UF_get_fail_message(irc, messg)) ?\n       printf("    returned a %d\\n", irc) :\n       printf("    returned error %d:  %s\\n", irc, messg);\n  }\n  return(irc);\n}\n\n\nstatic logical prompt_for_three_numbers(char *prompt, char *item1, char *item2, char *item3,\n\t\t\t\t\t\t\t\t\t\tdouble *number1, double *number2, double *number3)\n{\n    int\n        irc,\n        resp;\n    char\n        menu[3][16];\n    double\n        da[3];\n\t\n    strncpy(&menu[0][0], item1, 15);\n    strncpy(&menu[1][0], item2, 15);\n\tstrncpy(&menu[2][0], item3, 15);\n\n\t\n    da[0] = *number1;\n    da[1] = *number2;\n\tda[2] = *number3;\n\t\n    resp = uc1609(prompt, menu, 3, da, &irc);\n    if (resp == 3 || resp == 4)\n    {\n        *number1 = da[0];\n        *number2 = da[1];\n\t\t*number3 = da[2];\n\n        return TRUE;\n    }\n    else return FALSE;\n\t\n}\n\n\nstatic void do_ugopen_api(void)\n{\n\tint \ti,j, k_fixup, p_fixup, trim_opts[3], arc_opts[3];\n\tint \tcreate_flag=1, style1, method, method1 = 0, flag1;\n\tint\t\tresp, int_teeth_no, num_instances;\n\n\ttag_t\tlh_spline, rh_spline, lh_base_spline, rh_base_spline, temp_tag, od_arc_tag, wcs_tag,\n\t\t\tcurve_obj[3], lh_fillet, rh_fillet, root_arc_tag, cyl_tag, instances, tooth_gap_tag,\n\t\t\tteeth_grp_tag, teeth_tag[240];\n\n\tdouble\tknotseq[12]={0.0,0.0,0.0,0.0,0.0,0.0,1.0,1.0,1.0,1.0,1.0,1.0};\n\tdouble\tpole_array[POLES*4], poles[6][3], poles1[6][3], poles2[6][3];\n\tdouble\tbase_rad, root_rad, rad2 , theta1, theta2, theta3, delta_theta,\n\t\t\ttheta_p, rot_angle, angle1;\n\tdouble\tt_mat[6][6], l_mat[6][6], u_mat[6][6], b_mat[6][2], y_mat[6][2];\n\tdouble\tpoint1[3], point2[3], point3[3], tangent1[3];\n\tdouble\tpitch_dia=12.0, pressure_angle=20.0, dia_pitch, addendum, pitch_rad, undercut, \n\t\t\tdeddendum, sub1, sub2, sub2sq, sub1sq, x_pitch, teeth_no=48.0, clearance;\n\tdouble\tvec_x[3] = {1.0, 0.0, 0.0}, zc_dir[3] = {0.0, 0.0, 1.0};\n\tdouble\tstart_angle, end_angle, junk3[3], c_point[3];\n\tdouble\tmagnitude, magnitude1, magnitude2, l1, l2, l_new, parm1;\n\tdouble\tval1, val2, max_fillet, mtx[9];\n\tdouble\tdelta_angle, length1;\n\tdouble\torigin[3] ={0.0,0.0,0.0};\n\tdouble\ttooth_length=2.0, gear_od;\n\n\tchar\toptions[6][38]={"Full-depth, 14.5 deg pressure angle",\n\t\t\t\t\t\t\t"Full-depth, 20 deg pressure angle",\n\t\t\t\t\t\t\t"Stub, 20 deg pressure angle",\n\t\t\t\t\t\t\t"Coarse-pitch 20 deg pressure angle",\n\t\t\t\t\t\t\t"Coarse-pitch 25 deg pressure angle",\n\t\t\t\t\t\t\t"Fine-pitch 20 deg pressure angle"};\n\tchar\ttooth_length_st[16], gear_od_st[16], teeth_no_st[16], angle_st[16];\n\tchar *taper_angle = "0.0";\n\tchar *limit1[2] = {"        ", "        "};\n\tchar\tstart_limit_st[8], end_limit_st[8];\n\n\t\n\tUF_CURVE_arc_t arc_coords;\n\tUF_CURVE_line_t ln1;\n\tuf_list_p_t loop_list, features, instances_feature_list;\n\n\tfor(i=0;i<6;i++)\n\t{\n\t  for(j=0;j<6;j++)\n\t  {\n\t\t  t_mat[i][j]=0.0;\n\t\t  l_mat[i][j]=0.0;\n\t\t  u_mat[i][j]=0.0;\n\t  }\n\t}\n\tt_mat[0][0]=1.0;\n\tt_mat[5][5]=1.0;\n\tt_mat[1][0]=0.32768;\n\tt_mat[4][5]=t_mat[1][0];\n\tt_mat[1][1]=0.4096;\n\tt_mat[4][4]=t_mat[1][1];\n\tt_mat[1][2]=0.2048;\n\tt_mat[4][3]=t_mat[1][2];\n\tt_mat[1][3]=0.0512;\n\tt_mat[4][2]=t_mat[1][3];\n\tt_mat[1][4]=0.0064;\n\tt_mat[4][1]=t_mat[1][4];\n\tt_mat[1][5]=0.00032;\n\tt_mat[4][0]=t_mat[1][5];\n\tt_mat[2][0]=0.07776;\n\tt_mat[3][5]=t_mat[2][0];\n\tt_mat[2][1]=0.2592;\n\tt_mat[3][4]=t_mat[2][1];\n\tt_mat[2][2]=0.3456;\n\tt_mat[3][3]=t_mat[2][2];\n\tt_mat[2][3]=0.2304;\n\tt_mat[3][2]=t_mat[2][3];\n\tt_mat[2][4]=0.0768;\n\tt_mat[3][1]=t_mat[2][4];\n\tt_mat[2][5]=0.01024;\n\tt_mat[3][0]=t_mat[2][5];  \n\n\tfor(i=0;i<6;i++)\n\t{\n\t\tl_mat[i][i]=1.0;\n\t}\n\tu_mat[0][0]=1.0;\n\tu_mat[5][5]=1.0;  \n\tfor(i=1;i<6;i++)\n\t{\n\t\tl_mat[i][0]=t_mat[i][0];\n\t\tu_mat[1][i]=t_mat[1][i];\n\t}\n\tl_mat[2][1]=t_mat[2][1]/t_mat[1][1];\n\tl_mat[3][1]=t_mat[3][1]/t_mat[1][1];\n\tl_mat[4][1]=t_mat[4][1]/t_mat[1][1];\n\tu_mat[2][2]=t_mat[2][2]-l_mat[2][1]*u_mat[1][2];\n\tu_mat[2][3]=t_mat[2][3]-l_mat[2][1]*u_mat[1][3];\n\tu_mat[2][4]=t_mat[2][4]-l_mat[2][1]*u_mat[1][4];\n\tu_mat[2][5]=t_mat[2][5]-l_mat[2][1]*u_mat[1][5];\n\tl_mat[3][2]=(t_mat[3][2]-l_mat[3][1]*u_mat[1][2])/u_mat[2][2];\n\tl_mat[4][2]=(t_mat[4][2]-l_mat[4][1]*u_mat[1][2])/u_mat[2][2];\n\tu_mat[3][3]=t_mat[3][3]-l_mat[3][1]*u_mat[1][3]-l_mat[3][2]*u_mat[2][3];\n\tu_mat[3][4]=t_mat[3][4]-l_mat[3][1]*u_mat[1][4]-l_mat[3][2]*u_mat[2][4];\n\tu_mat[3][5]=t_mat[3][5]-l_mat[3][1]*u_mat[1][5]-l_mat[3][2]*u_mat[2][5];\n\tl_mat[4][3]=(t_mat[4][3]-l_mat[4][1]*u_mat[1][3]-l_mat[4][2]*u_mat[2][3]-l_mat[4][3]*u_mat[3][4])/u_mat[3][3];\n\tu_mat[4][4]=t_mat[4][4]-l_mat[4][1]*u_mat[1][4]-l_mat[4][2]*u_mat[2][4]-l_mat[4][3]*u_mat[3][4];\n\tu_mat[4][5]=t_mat[4][5]-l_mat[4][1]*u_mat[1][5]-l_mat[4][2]*u_mat[2][5]-l_mat[4][3]*u_mat[3][5];\n\t\n\trestart: ;\n\n\tresp = uc1603 ("Standard Imperial Involute Gear Systems to ANSI & AGMA", 0, options, 6 );\n\n\tif (resp == 2) goto ending1;\n\n\tprompt_for_three_numbers("Gear Data", "Pitch Diameter", "No of Teeth", "Tooth length",\n\t\t\t&pitch_dia, &teeth_no, &tooth_length);\n\tstyle1 = resp - 4;\n\tpitch_rad = pitch_dia/2.0;\n\tswitch (style1)\n\t{\n\tcase 1:\n\t\t// Full-depth, 14.5 deg press angle\n\t\tpressure_angle = 14.5;\n\t\tbase_rad = pitch_rad*cos(pressure_angle*DEGRA);\n\t\tdia_pitch = teeth_no/pitch_dia;\n\t\taddendum = 1.0/dia_pitch;\n\t\tdeddendum = 1.157/dia_pitch;\n\t\tclearance = 0.157/dia_pitch;\n\t\tmax_fillet = 1.5*clearance;\n\t\tbreak;\n\tcase 2:\n\t\t// Full-depth, 20 deg press angle\n\t\tpressure_angle = 20.0;\n\t\tbase_rad = pitch_rad*cos(pressure_angle*DEGRA);\n\t\tdia_pitch = teeth_no/pitch_dia;\n\t\taddendum = 1.0/dia_pitch;\n\t\tdeddendum = 1.157/dia_pitch;\n\t\tclearance = 0.157/dia_pitch;\n\t\tmax_fillet = 1.5*clearance;\n\t\tbreak;\n\tcase 3:\n\t\t// Stub, 20 deg pressure angle\n\t\tpressure_angle = 20.0;\n\t\tbase_rad = pitch_rad*cos(pressure_angle*DEGRA);\n\t\tdia_pitch = teeth_no/pitch_dia;\n\t\taddendum = 0.8/dia_pitch;\n\t\tdeddendum = 1.0/dia_pitch;\n\t\tclearance = 0.2/dia_pitch;\n\t\tmax_fillet = 1.5*clearance;\n\t\tbreak;\n\tcase 4:\n\t\t// Coarse-pitch 20 deg press angle\n\t\tpressure_angle = 20.0;\n\t\tbase_rad = pitch_rad*cos(pressure_angle*DEGRA);\n\t\tdia_pitch = teeth_no/pitch_dia;\n\t\taddendum = 1.0/dia_pitch;\n\t\tdeddendum = 1.25/dia_pitch;\n\t\tclearance = 0.25/dia_pitch;\n\t\tmax_fillet = 0.3/dia_pitch;\n\t\tbreak;\n\tcase 5:\n\t\t// Coarse-pitch 25 deg press angle\n\t\tpressure_angle = 25.0;\n\t\tbase_rad = pitch_rad*cos(pressure_angle*DEGRA);\n\t\tdia_pitch = teeth_no/pitch_dia;\n\t\taddendum = 1.0/dia_pitch;\n\t\tdeddendum = 1.25/dia_pitch;\n\t\tclearance = 0.25/dia_pitch;\n\t\tmax_fillet = 0.3/dia_pitch;\n\t\tbreak;\n\tcase 6:\n\t\t// Fine-pitch 20 deg press angle\n\t\tpressure_angle = 20.0;\n\t\tbase_rad = pitch_rad*cos(pressure_angle*DEGRA);\n\t\tdia_pitch = teeth_no/pitch_dia;\n\t\taddendum = 1.0/dia_pitch;\n\t\tdeddendum = 0.002+1.2/dia_pitch;\n\t\tclearance = 0.002+0.2/dia_pitch;\n\t\tmax_fillet = 0.3/dia_pitch;\n\t\tbreak;\n\t}\n\t\n\troot_rad = pitch_rad - deddendum;\n\tgear_od = (pitch_rad + addendum)*2.0;\n\n//\tDetermine od involute angle\n\t\n\tsub1 = (pitch_rad+addendum)/base_rad;\n\ttheta2 = sqrt(sub1*sub1-1.0);\n\n\tsprintf(gear_od_st,"%f",gear_od);\n\tsprintf(tooth_length_st,"TOOTH_LENGTH1=%f",tooth_length);\n\n\tUF_MODL_create_cyl1 (UF_NULLSIGN, origin,tooth_length_st, gear_od_st, \n\t\t\tzc_dir, &cyl_tag);\n\n\tsprintf(start_limit_st,"0.0");\n\tsprintf(end_limit_st,"TOOTH_LENGTH1");\n\tstrcpy(&limit1[0][0],start_limit_st);\n\tstrcpy(&limit1[1][0],end_limit_st);\n\n\tif (root_rad < base_rad) method = 0;\n\tif (root_rad > base_rad) method = 1;\n\n\tswitch (method)\n\t{\n\tcase 0:\n\t\t//\tCreate normal section splines\n\t\ttheta1 = 0.0;\n\t\ttheta3 = 0.0;\n\t\tdelta_theta = (theta2-theta1)/5.0; \n\t\tfor (i=0;i<6;i++)\n\t\t{\n\t\t\tb_mat[i][0] = base_rad*sin(theta3)- base_rad*theta3*cos(theta3);\n\t\t\tb_mat[i][1] = base_rad*cos(theta3)+ base_rad*theta3*sin(theta3);\n\t\t\ttheta3 = theta3 + delta_theta;\n\t\t}\n\t\ty_mat[0][0] = b_mat[0][0]/l_mat[0][0];\n\t\ty_mat[0][1] = b_mat[0][1]/l_mat[0][0];\n\t\ty_mat[1][0]=(b_mat[1][0]-l_mat[1][0]*y_mat[0][0])/l_mat[1][1];\n\t\ty_mat[1][1]=(b_mat[1][1]-l_mat[1][0]*y_mat[0][1])/l_mat[1][1];\n\t\ty_mat[2][0]=(b_mat[2][0]-l_mat[2][0]*y_mat[0][0]-l_mat[2][1]*y_mat[1][0])/l_mat[2][2];\n\t\ty_mat[2][1]=(b_mat[2][1]-l_mat[2][0]*y_mat[0][1]-l_mat[2][1]*y_mat[1][1])/l_mat[2][2];\n\t\ty_mat[3][0]=(b_mat[3][0]-l_mat[3][0]*y_mat[0][0]-l_mat[3][1]*y_mat[1][0]-l_mat[3][2]*y_mat[2][0])/l_mat[3][3];\n\t\ty_mat[3][1]=(b_mat[3][1]-l_mat[3][0]*y_mat[0][1]-l_mat[3][1]*y_mat[1][1]-l_mat[3][2]*y_mat[2][1])/l_mat[3][3];\n\t\ty_mat[4][0]=(b_mat[4][0]-l_mat[4][0]*y_mat[0][0]-l_mat[4][1]*y_mat[1][0]-l_mat[4][2]*y_mat[2][0]-\n\t\t\t\t\t\t\tl_mat[4][3]*y_mat[3][0])/l_mat[4][4];\n\t\ty_mat[4][1]=(b_mat[4][1]-l_mat[4][0]*y_mat[0][1]-l_mat[4][1]*y_mat[1][1]-l_mat[4][2]*y_mat[2][1]-\n\t\t\t\t\t\t\tl_mat[4][3]*y_mat[3][1])/l_mat[4][4];\n\t\ty_mat[5][0]=(b_mat[5][0]-l_mat[5][0]*y_mat[0][0]-l_mat[5][1]*y_mat[1][0]-l_mat[5][2]*y_mat[2][0]-\n\t\t\t\t\t\t\tl_mat[5][3]*y_mat[3][0]-l_mat[5][4]*y_mat[4][0])/l_mat[5][5];\n\t\ty_mat[5][1]=(b_mat[5][1]-l_mat[5][0]*y_mat[0][1]-l_mat[5][1]*y_mat[1][1]-l_mat[5][2]*y_mat[2][1]-\n\t\t\t\t\t\t\tl_mat[5][3]*y_mat[3][1]-l_mat[5][4])/l_mat[5][5];\n\t\tpoles[5][0]=y_mat[5][0];\n\t\tpoles[5][1]=y_mat[5][1];\n\t\tpoles[4][0]=(y_mat[4][0]-u_mat[4][5]*poles[5][0])/u_mat[4][4];\n\t\tpoles[4][1]=(y_mat[4][1]-u_mat[4][5]*poles[5][1])/u_mat[4][4];\n\t\tpoles[3][0]=(y_mat[3][0]-u_mat[3][4]*poles[4][0]-u_mat[3][5]*poles[5][0])/u_mat[3][3];\n\t\tpoles[3][1]=(y_mat[3][1]-u_mat[3][4]*poles[4][1]-u_mat[3][5]*poles[5][1])/u_mat[3][3];\n\t\tpoles[2][0]=(y_mat[2][0]-u_mat[2][3]*poles[3][0]-u_mat[2][4]*poles[4][0]-u_mat[2][5]*poles[5][0])/u_mat[2][2];\n\t\tpoles[2][1]=(y_mat[2][1]-u_mat[2][3]*poles[3][1]-u_mat[2][4]*poles[4][1]-u_mat[2][5]*poles[5][1])/u_mat[2][2];\n\t\tpoles[1][0]=(y_mat[1][0]-u_mat[1][2]*poles[2][0]-u_mat[1][3]*poles[3][0]-u_mat[1][4]*poles[4][0]-\n\t\t\t\t\tu_mat[1][5]*poles[5][0])/u_mat[1][1];\n\t\tpoles[1][1]=(y_mat[1][1]-u_mat[1][2]*poles[2][1]-u_mat[1][3]*poles[3][1]-u_mat[1][4]*poles[4][1]-\n\t\t\t\t\tu_mat[1][5]*poles[5][1])/u_mat[1][1];\n\t\tpoles[0][0]=y_mat[0][0]-u_mat[0][1]*poles[1][0]-u_mat[0][2]*poles[2][0]-u_mat[0][3]*poles[3][0]-\n\t\t\t\t\tu_mat[0][4]*poles[4][0]-u_mat[0][5]*poles[5][0];\n\t\tpoles[0][1]=y_mat[0][1]-u_mat[0][1]*poles[1][1]-u_mat[0][2]*poles[2][1]-u_mat[0][3]*poles[3][1]-\n\t\t\t\t\tu_mat[0][4]*poles[4][1]-u_mat[0][5]*poles[5][1];\n\t\tpoles[1][0]=0.0;\n\t\tpoles[0][0]=0.0;\n //  Calculate rotation angle\n\t\trad2 = pitch_dia/2.0;\n\t\tsub1 = rad2/base_rad;\n\t\tsub1sq = sub1*sub1;\n\t\ttheta_p = sqrt(sub1sq-1.0);\n\t\tx_pitch = base_rad*sin(theta_p)-base_rad*theta_p*cos(theta_p);\n\t\trot_angle = PI/(2.0*teeth_no) - asin(x_pitch/rad2);\n\t\tfor (i=0;i<6;i++)\n\t\t{\n\t\t\tpoles1[i][0] = poles[i][0]*cos(-rot_angle)-poles[i][1]*sin(-rot_angle);\n\t\t\tpoles1[i][1] = poles[i][0]*sin(-rot_angle)+poles[i][1]*cos(-rot_angle);\n\t\t\tpoles1[i][2] = 0.0;\n\t\t}  \n\t\tfor (i=0;i<6;i++)\n\t\t{\n\t\t\tpoles2[i][0] = -poles1[i][0];\n\t\t\tpoles2[i][1] = poles1[i][1];\n\t\t\tpoles2[i][2] = 0.0;\n\t\t}\n\t\tpole_array[0] = poles1[0][0];\n\t\tpole_array[1] = poles1[0][1];\n\t\tpole_array[2] = 0.0;\n\t\tpole_array[3] = 1.0;\n\t\tpole_array[4] = poles1[1][0];\n\t\tpole_array[5] = poles1[1][1];\n\t\tpole_array[6] = 0.0;\n\t\tpole_array[7] = 1.0;\n\t\tpole_array[8] = poles1[2][0];\n\t\tpole_array[9] = poles1[2][1];\n\t\tpole_array[10] = 0.0;\n\t\tpole_array[11] = 1.0;\n\t\tpole_array[12] = poles1[3][0];\n\t\tpole_array[13] = poles1[3][1];\n\t\tpole_array[14] = 0.0;\n\t\tpole_array[15] = 1.0;\n\t\tpole_array[16] = poles1[4][0];\n\t\tpole_array[17] = poles1[4][1];\n\t\tpole_array[18] = 0.0;\n\t\tpole_array[19] = 1.0;\n\t\tpole_array[20] = poles1[5][0];\n\t\tpole_array[21] = poles1[5][1];\n\t\tpole_array[22] = 0.0;\n\t\tpole_array[23] = 1.0;\n\t\tUF_CALL(UF_MODL_create_spline(POLES,ORDER,knotseq,pole_array,\n\t\t\t\t\t\t&lh_spline, &k_fixup,&p_fixup));\n\t\tpole_array[0] = poles2[0][0];\n\t\tpole_array[1] = poles2[0][1];\n\t\tpole_array[2] = 0.0;\n\t\tpole_array[3] = 1.0;\n\t\tpole_array[4] = poles2[1][0];\n\t\tpole_array[5] = poles2[1][1];\n\t\tpole_array[6] = 0.0;\n\t\tpole_array[7] = 1.0;\n\t\tpole_array[8] = poles2[2][0];\n\t\tpole_array[9] = poles2[2][1];\n\t\tpole_array[10] = 0.0;\n\t\tpole_array[11] = 1.0;\n\t\tpole_array[12] = poles2[3][0];\n\t\tpole_array[13] = poles2[3][1];\n\t\tpole_array[14] = 0.0;\n\t\tpole_array[15] = 1.0;\n\t\tpole_array[16] = poles2[4][0];\n\t\tpole_array[17] = poles2[4][1];\n\t\tpole_array[18] = 0.0;\n\t\tpole_array[19] = 1.0;\n\t\tpole_array[20] = poles2[5][0];\n\t\tpole_array[21] = poles2[5][1];\n\t\tpole_array[22] = 0.0;\n\t\tpole_array[23] = 1.0;\n\t\tUF_CALL(UF_MODL_create_spline(POLES,ORDER,knotseq,pole_array,\n\t\t\t\t\t\t&rh_spline, &k_fixup,&p_fixup));\n\t\tpoint1[0] = 0.0;\n\t\tpoint1[1] = pitch_dia/2.0 + addendum;\n\t\tpoint1[2] = 0.0;\n\t\tUF_CURVE_create_arc_thru_3pts ( create_flag, &poles1[5][0],  point1, &poles2[5][0], &od_arc_tag);\n\t\tUF_MODL_ask_curve_props(lh_spline, 0.0, &point1[0], tangent1, junk3, junk3, junk3,junk3);\n\t\tUF_VEC3_angle_between(vec_x,&poles1[0][0],zc_dir,&start_angle);\n\t\tpoint2[0] = root_rad*cos(start_angle);\n\t\tpoint2[1] = root_rad*sin(start_angle);\n\t\tpoint2[2] = 0.0;\n\t\tln1.start_point[0] = point2[0];\n\t\tln1.start_point[1] = point2[1];\n\t\tln1.start_point[2] = 0.0;\n\t\tln1.end_point[0] = point1[0];\n\t\tln1.end_point[1] = point1[1];\n\t\tln1.end_point[2] = 0.0;\n\t\tUF_CALL(UF_CURVE_create_line(&ln1,&lh_base_spline));\n\t\tUF_MODL_ask_curve_props(rh_spline, 0.0, &point1[0], tangent1, junk3, junk3, junk3,junk3);\n\t\tUF_VEC3_angle_between(vec_x,&poles2[0][0],zc_dir,&end_angle);\n\t\tpoint3[0] = root_rad*cos(end_angle);\n\t\tpoint3[1] = root_rad*sin(end_angle);\n\t\tpoint3[2] = 0.0;\n\t\tln1.start_point[0] = point3[0];\n\t\tln1.start_point[1] = point3[1];\n\t\tln1.start_point[2] = 0.0;\n\t\tln1.end_point[0] = point1[0];\n\t\tln1.end_point[1] = point1[1];\n\t\tln1.end_point[2] = 0.0;\n\t\tUF_CALL(UF_CURVE_create_line(&ln1,&rh_base_spline));\n\t\tUF_VEC3_distance(point3, point1, &length1);\n\t\tpoint1[0] = 0.0;\n\t\tpoint1[1] = root_rad;\n\t\tpoint1[2] = 0.0;\n\t\tUF_CURVE_create_arc_thru_3pts ( create_flag, point2,  point1, point3, &root_arc_tag);\n\t\tif (length1 > max_fillet)\n\t\t{\n\t\t\tcurve_obj[0] = root_arc_tag;\n\t\t\tcurve_obj[1] = lh_base_spline;\n\t\t\tpoint1[0] = poles1[0][0] - max_fillet;\n\t\t\tpoint1[1] = poles1[0][1] - max_fillet;\n\t\t\tpoint1[2] = 0.0;\n\t\t\ttrim_opts[0] = TRUE;\n\t\t\ttrim_opts[1] = TRUE;\n\t\t\tarc_opts[0] = UF_CURVE_TANGENT_OUTSIDE;\n\t\t\tUF_CURVE_create_fillet (UF_CURVE_2_CURVE, curve_obj, point1, \n\t\t\t\tmax_fillet, trim_opts, arc_opts, &lh_fillet); \n\t\t\tcurve_obj[0] = rh_base_spline;\n\t\t\tcurve_obj[1] = root_arc_tag;\n\t\t\tpoint1[0] = poles2[0][0] + max_fillet;\n\t\t\tpoint1[1] = poles2[0][1] - max_fillet;\n\t\t\tpoint1[2] = 0.0;\n\t\t\ttrim_opts[0] = TRUE;\n\t\t\ttrim_opts[1] = TRUE;\n\t\t\tarc_opts[1] = UF_CURVE_TANGENT_OUTSIDE;\n\t\t\tUF_CURVE_create_fillet (UF_CURVE_2_CURVE, curve_obj, point1, \n\t\t\t\tmax_fillet, trim_opts, arc_opts, &rh_fillet);\n\t\t\tUF_CALL(UF_MODL_create_list(&loop_list));\n\t\t\tUF_CALL(UF_MODL_put_list_item(loop_list, od_arc_tag));\n\t\t\tUF_CALL(UF_MODL_put_list_item(loop_list, lh_spline));\n\t\t\tUF_CALL(UF_MODL_put_list_item(loop_list, lh_base_spline));\n\t\t\tUF_CALL(UF_MODL_put_list_item(loop_list, lh_fillet));\n\t\t\tUF_CALL(UF_MODL_put_list_item(loop_list, root_arc_tag));\n\t\t\tUF_CALL(UF_MODL_put_list_item(loop_list, rh_fillet));\n\t\t\tUF_CALL(UF_MODL_put_list_item(loop_list, rh_base_spline));\n\t\t\tUF_CALL(UF_MODL_put_list_item(loop_list, rh_spline));\n\t\t\tUF_MODL_create_extruded1 (loop_list, taper_angle, limit1,\n                          origin, zc_dir, UF_NEGATIVE , cyl_tag, &features);\n\t\t\tUF_CALL(UF_MODL_ask_list_item(features, 0 , &tooth_gap_tag));\n\t\t\tUF_MODL_delete_list(&loop_list);\n\t\t\tUF_MODL_delete_list(&features);\n\t\t\tUF_CALL(UF_MODL_create_list(&loop_list));\n\t\t\tUF_CALL(UF_MODL_put_list_item(loop_list, tooth_gap_tag));\n\t\t\tUF_OBJ_set_blank_status (od_arc_tag, UF_OBJ_BLANKED);\n\t\t\tUF_OBJ_set_blank_status (lh_spline, UF_OBJ_BLANKED);\n\t\t\tUF_OBJ_set_blank_status (lh_base_spline, UF_OBJ_BLANKED);\n\t\t\tUF_OBJ_set_blank_status (lh_fillet, UF_OBJ_BLANKED);\n\t\t\tUF_OBJ_set_blank_status (root_arc_tag, UF_OBJ_BLANKED);\n\t\t\tUF_OBJ_set_blank_status (rh_fillet, UF_OBJ_BLANKED);\n\t\t\tUF_OBJ_set_blank_status (rh_base_spline, UF_OBJ_BLANKED);\n\t\t\tUF_OBJ_set_blank_status (rh_spline, UF_OBJ_BLANKED);\n\t\t}\n\t\telse if (length1 < max_fillet)\n\t\t{\n\t\t\tcurve_obj[0] = root_arc_tag;\n\t\t\tcurve_obj[1] = lh_spline;\n\t\t\tpoint1[0] = poles1[0][0] - max_fillet;\n\t\t\tpoint1[1] = poles1[0][1] + max_fillet;\n\t\t\tpoint1[2] = 0.0;\n\t\t\ttrim_opts[0] = TRUE;\n\t\t\ttrim_opts[1] = TRUE;\n\t\t\tarc_opts[0] = UF_CURVE_TANGENT_OUTSIDE;\n\t\t\tUF_CURVE_create_fillet (UF_CURVE_2_CURVE, curve_obj, point1, \n\t\t\t\t\tmax_fillet, trim_opts, arc_opts, &lh_fillet); \n\t\t\tcurve_obj[0] = rh_spline;\n\t\t\tcurve_obj[1] = root_arc_tag;\n\t\t\tpoint1[0] = poles2[0][0] + max_fillet;\n\t\t\tpoint1[1] = poles2[0][1] + max_fillet;\n\t\t\tpoint1[2] = 0.0;\n\t\t\ttrim_opts[0] = TRUE;\n\t\t\ttrim_opts[1] = TRUE;\n\t\t\tarc_opts[1] = UF_CURVE_TANGENT_OUTSIDE;\n\t\t\tUF_CURVE_create_fillet (UF_CURVE_2_CURVE, curve_obj, point1, \n\t\t\t\t\tmax_fillet, trim_opts, arc_opts, &rh_fillet);\n\t\t\tUF_OBJ_delete_object (lh_base_spline);\n\t\t\tUF_OBJ_delete_object (rh_base_spline);\n\t\t\tUF_CALL(UF_MODL_create_list(&loop_list));\n\t\t\tUF_CALL(UF_MODL_put_list_item(loop_list, od_arc_tag));\n\t\t\tUF_CALL(UF_MODL_put_list_item(loop_list, lh_spline));\n\t\t\tUF_CALL(UF_MODL_put_list_item(loop_list, lh_fillet));\n\t\t\tUF_CALL(UF_MODL_put_list_item(loop_list, root_arc_tag));\n\t\t\tUF_CALL(UF_MODL_put_list_item(loop_list, rh_fillet));\n\t\t\tUF_CALL(UF_MODL_put_list_item(loop_list, rh_spline));\n\t\t\tUF_MODL_create_extruded1 (loop_list, taper_angle, limit1,\n                          origin, zc_dir, UF_NEGATIVE , cyl_tag, &features);\n\t\t\tUF_CALL(UF_MODL_ask_list_item(features, 0 , &tooth_gap_tag));\n\t\t\tUF_MODL_delete_list(&loop_list);\n\t\t\tUF_MODL_delete_list(&features);\n\t\t\tUF_CALL(UF_MODL_create_list(&loop_list));\n\t\t\tUF_CALL(UF_MODL_put_list_item(loop_list, tooth_gap_tag));\n\t\t\tUF_OBJ_set_blank_status (od_arc_tag, UF_OBJ_BLANKED);\n\t\t\tUF_OBJ_set_blank_status (lh_spline, UF_OBJ_BLANKED);\n\t\t\tUF_OBJ_set_blank_status (lh_fillet, UF_OBJ_BLANKED);\n\t\t\tUF_OBJ_set_blank_status (root_arc_tag, UF_OBJ_BLANKED);\n\t\t\tUF_OBJ_set_blank_status (rh_fillet, UF_OBJ_BLANKED);\n\t\t\tUF_OBJ_set_blank_status (rh_spline, UF_OBJ_BLANKED);\n\t\t}\n\t  break;\n\tcase 1:\n\t\tsub2 = (pitch_rad-deddendum)/base_rad;\n\t\tsub2sq = sub2*sub2;\n\t\ttheta1 = sqrt(sub2sq - 1.0);\n\t\ttheta3 = theta1;\n\t\tdelta_theta = (theta2-theta1)/5.0; \n\t\tfor (i=0;i<6;i++)\n\t\t{\n\t\t\tb_mat[i][0] = base_rad*sin(theta3)- base_rad*theta3*cos(theta3);\n\t\t\tb_mat[i][1] = base_rad*cos(theta3)+ base_rad*theta3*sin(theta3);\n\t\t\ttheta3 = theta3 + delta_theta;\n\t\t} \n\t\ty_mat[0][0] = b_mat[0][0]/l_mat[0][0];\n\t\ty_mat[0][1] = b_mat[0][1]/l_mat[0][0];\n\t\ty_mat[1][0]=(b_mat[1][0]-l_mat[1][0]*y_mat[0][0])/l_mat[1][1];\n\t\ty_mat[1][1]=(b_mat[1][1]-l_mat[1][0]*y_mat[0][1])/l_mat[1][1];\n\t\ty_mat[2][0]=(b_mat[2][0]-l_mat[2][0]*y_mat[0][0]-l_mat[2][1]*y_mat[1][0])/l_mat[2][2];\n\t\ty_mat[2][1]=(b_mat[2][1]-l_mat[2][0]*y_mat[0][1]-l_mat[2][1]*y_mat[1][1])/l_mat[2][2];\n\t\ty_mat[3][0]=(b_mat[3][0]-l_mat[3][0]*y_mat[0][0]-l_mat[3][1]*y_mat[1][0]-l_mat[3][2]*y_mat[2][0])/l_mat[3][3];\n\t\ty_mat[3][1]=(b_mat[3][1]-l_mat[3][0]*y_mat[0][1]-l_mat[3][1]*y_mat[1][1]-l_mat[3][2]*y_mat[2][1])/l_mat[3][3];\n\t\ty_mat[4][0]=(b_mat[4][0]-l_mat[4][0]*y_mat[0][0]-l_mat[4][1]*y_mat[1][0]-l_mat[4][2]*y_mat[2][0]-\n\t\t\t\t\t\t\tl_mat[4][3]*y_mat[3][0])/l_mat[4][4];\n\t\ty_mat[4][1]=(b_mat[4][1]-l_mat[4][0]*y_mat[0][1]-l_mat[4][1]*y_mat[1][1]-l_mat[4][2]*y_mat[2][1]-\n\t\t\t\t\t\t\tl_mat[4][3]*y_mat[3][1])/l_mat[4][4];\n\t\ty_mat[5][0]=(b_mat[5][0]-l_mat[5][0]*y_mat[0][0]-l_mat[5][1]*y_mat[1][0]-l_mat[5][2]*y_mat[2][0]-\n\t\t\t\t\t\t\tl_mat[5][3]*y_mat[3][0]-l_mat[5][4]*y_mat[4][0])/l_mat[5][5];\n\t\ty_mat[5][1]=(b_mat[5][1]-l_mat[5][0]*y_mat[0][1]-l_mat[5][1]*y_mat[1][1]-l_mat[5][2]*y_mat[2][1]-\n\t\t\t\t\t\t\tl_mat[5][3]*y_mat[3][1]-l_mat[5][4])/l_mat[5][5];\n\t\tpoles[5][0]=y_mat[5][0];\n\t\tpoles[5][1]=y_mat[5][1];\n\t\tpoles[4][0]=(y_mat[4][0]-u_mat[4][5]*poles[5][0])/u_mat[4][4];\n\t\tpoles[4][1]=(y_mat[4][1]-u_mat[4][5]*poles[5][1])/u_mat[4][4];\n\t\tpoles[3][0]=(y_mat[3][0]-u_mat[3][4]*poles[4][0]-u_mat[3][5]*poles[5][0])/u_mat[3][3];\n\t\tpoles[3][1]=(y_mat[3][1]-u_mat[3][4]*poles[4][1]-u_mat[3][5]*poles[5][1])/u_mat[3][3];\n\t\tpoles[2][0]=(y_mat[2][0]-u_mat[2][3]*poles[3][0]-u_mat[2][4]*poles[4][0]-u_mat[2][5]*poles[5][0])/u_mat[2][2];\n\t\tpoles[2][1]=(y_mat[2][1]-u_mat[2][3]*poles[3][1]-u_mat[2][4]*poles[4][1]-u_mat[2][5]*poles[5][1])/u_mat[2][2];\n\t\tpoles[1][0]=(y_mat[1][0]-u_mat[1][2]*poles[2][0]-u_mat[1][3]*poles[3][0]-u_mat[1][4]*poles[4][0]-\n\t\t\t\t\tu_mat[1][5]*poles[5][0])/u_mat[1][1];\n\t\tpoles[1][1]=(y_mat[1][1]-u_mat[1][2]*poles[2][1]-u_mat[1][3]*poles[3][1]-u_mat[1][4]*poles[4][1]-\n\t\t\t\t\tu_mat[1][5]*poles[5][1])/u_mat[1][1];\n\t\tpoles[0][0]=y_mat[0][0]-u_mat[0][1]*poles[1][0]-u_mat[0][2]*poles[2][0]-u_mat[0][3]*poles[3][0]-\n\t\t\t\t\tu_mat[0][4]*poles[4][0]-u_mat[0][5]*poles[5][0];\n\t\tpoles[0][1]=y_mat[0][1]-u_mat[0][1]*poles[1][1]-u_mat[0][2]*poles[2][1]-u_mat[0][3]*poles[3][1]-\n\t\t\t\t\tu_mat[0][4]*poles[4][1]-u_mat[0][5]*poles[5][1];\n //  Calculate rotation angle\n\t\trad2 = pitch_dia/2.0;\n\t\tsub1 = rad2/base_rad;\n\t\tsub1sq = sub1*sub1;\n\t\ttheta_p = sqrt(sub1sq-1.0);\n\t\tx_pitch = base_rad*sin(theta_p)-base_rad*theta_p*cos(theta_p);\n\t\trot_angle = PI/(2.0*teeth_no) - asin(x_pitch/rad2);\n\t\tfor (i=0;i<6;i++)\n\t\t{\n\t\t\tpoles1[i][0] = poles[i][0]*cos(-rot_angle)-poles[i][1]*sin(-rot_angle);\n\t\t\tpoles1[i][1] = poles[i][0]*sin(-rot_angle)+poles[i][1]*cos(-rot_angle);\n\t\t\tpoles1[i][2] = 0.0;\n\t\t}  \n\t\tfor (i=0;i<6;i++)\n\t\t{\n\t\t\tpoles2[i][0] = -poles1[i][0];\n\t\t\tpoles2[i][1] = poles1[i][1];\n\t\t\tpoles2[i][2] = 0.0;\n\t\t}\n\t\tpole_array[0] = poles1[0][0];\n\t\tpole_array[1] = poles1[0][1];\n\t\tpole_array[2] = 0.0;\n\t\tpole_array[3] = 1.0;\n\t\tpole_array[4] = poles1[1][0];\n\t\tpole_array[5] = poles1[1][1];\n\t\tpole_array[6] = 0.0;\n\t\tpole_array[7] = 1.0;\n\t\tpole_array[8] = poles1[2][0];\n\t\tpole_array[9] = poles1[2][1];\n\t\tpole_array[10] = 0.0;\n\t\tpole_array[11] = 1.0;\n\t\tpole_array[12] = poles1[3][0];\n\t\tpole_array[13] = poles1[3][1];\n\t\tpole_array[14] = 0.0;\n\t\tpole_array[15] = 1.0;\n\t\tpole_array[16] = poles1[4][0];\n\t\tpole_array[17] = poles1[4][1];\n\t\tpole_array[18] = 0.0;\n\t\tpole_array[19] = 1.0;\n\t\tpole_array[20] = poles1[5][0];\n\t\tpole_array[21] = poles1[5][1];\n\t\tpole_array[22] = 0.0;\n\t\tpole_array[23] = 1.0;\n\t\tUF_CALL(UF_MODL_create_spline(POLES,ORDER,knotseq,pole_array,\n\t\t\t\t\t\t&lh_spline, &k_fixup,&p_fixup));\n\t\tpole_array[0] = poles2[0][0];\n\t\tpole_array[1] = poles2[0][1];\n\t\tpole_array[2] = 0.0;\n\t\tpole_array[3] = 1.0;\n\t\tpole_array[4] = poles2[1][0];\n\t\tpole_array[5] = poles2[1][1];\n\t\tpole_array[6] = 0.0;\n\t\tpole_array[7] = 1.0;\n\t\tpole_array[8] = poles2[2][0];\n\t\tpole_array[9] = poles2[2][1];\n\t\tpole_array[10] = 0.0;\n\t\tpole_array[11] = 1.0;\n\t\tpole_array[12] = poles2[3][0];\n\t\tpole_array[13] = poles2[3][1];\n\t\tpole_array[14] = 0.0;\n\t\tpole_array[15] = 1.0;\n\t\tpole_array[16] = poles2[4][0];\n\t\tpole_array[17] = poles2[4][1];\n\t\tpole_array[18] = 0.0;\n\t\tpole_array[19] = 1.0;\n\t\tpole_array[20] = poles2[5][0];\n\t\tpole_array[21] = poles2[5][1];\n\t\tpole_array[22] = 0.0;\n\t\tpole_array[23] = 1.0;\n\t\tUF_CALL(UF_MODL_create_spline(POLES,ORDER,knotseq,pole_array,\n\t\t\t\t\t\t&rh_spline, &k_fixup,&p_fixup));\n\t\tpoint1[0] = 0.0;\n\t\tpoint1[1] = pitch_dia/2.0 + addendum;\n\t\tpoint1[2] = 0.0;\n\t\tUF_CURVE_create_arc_thru_3pts ( create_flag, &poles1[5][0],  point1, &poles2[5][0], &od_arc_tag);\n\t\tpoint1[0] = 0.0;\n\t\tpoint1[1] = root_rad;\n\t\tpoint1[2] = 0.0;\n\t\tUF_CURVE_create_arc_thru_3pts ( create_flag, &poles1[0][0],  point1, &poles2[0][0], &root_arc_tag);\n\t\tcurve_obj[0] = root_arc_tag;\n\t\tcurve_obj[1] = lh_spline;\n\t\tpoint1[0] = poles1[0][0];\n\t\tpoint1[1] = poles1[0][1] + max_fillet/2.0;\n\t\tpoint1[2] = 0.0;\n\t\ttrim_opts[0] = TRUE;\n\t\ttrim_opts[1] = TRUE;\n\t\tarc_opts[0] = UF_CURVE_TANGENT_OUTSIDE;\n\t\tUF_CURVE_create_fillet (UF_CURVE_2_CURVE, curve_obj, point1, max_fillet, trim_opts, arc_opts, &lh_fillet);\n\t\tcurve_obj[0] = rh_spline;\n\t\tcurve_obj[1] = root_arc_tag;\n\t\tpoint1[0] = poles2[0][0] ;\n\t\tpoint1[1] = poles2[0][1] + max_fillet/2.0;\n\t\tpoint1[2] = 0.0;\n\t\ttrim_opts[0] = TRUE;\n\t\ttrim_opts[1] = TRUE;\n\t\tarc_opts[1] = UF_CURVE_TANGENT_OUTSIDE;\n\t\tUF_CURVE_create_fillet (UF_CURVE_2_CURVE, curve_obj, point1, max_fillet, trim_opts, arc_opts, &rh_fillet);\n\t\tUF_CALL(UF_MODL_create_list(&loop_list));\n\t\tUF_CALL(UF_MODL_put_list_item(loop_list, od_arc_tag));\n\t\tUF_CALL(UF_MODL_put_list_item(loop_list, lh_spline));\n\t\tUF_CALL(UF_MODL_put_list_item(loop_list, lh_fillet));\n\t\tUF_CALL(UF_MODL_put_list_item(loop_list, root_arc_tag));\n\t\tUF_CALL(UF_MODL_put_list_item(loop_list, rh_fillet));\n\t\tUF_CALL(UF_MODL_put_list_item(loop_list, rh_spline));\n\t\tUF_MODL_create_extruded1 (loop_list, taper_angle, limit1,\n                          origin, zc_dir, UF_NEGATIVE , cyl_tag, &features);\n\t\tUF_CALL(UF_MODL_ask_list_item(features, 0 , &tooth_gap_tag));\n\t\tUF_MODL_delete_list(&loop_list);\n\t\tUF_MODL_delete_list(&features);\n\t\tUF_CALL(UF_MODL_create_list(&loop_list));\n\t\tUF_CALL(UF_MODL_put_list_item(loop_list, tooth_gap_tag));\n\t\tUF_OBJ_set_blank_status (od_arc_tag, UF_OBJ_BLANKED);\n\t\tUF_OBJ_set_blank_status (lh_spline, UF_OBJ_BLANKED);\n\t\tUF_OBJ_set_blank_status (lh_fillet, UF_OBJ_BLANKED);\n\t\tUF_OBJ_set_blank_status (root_arc_tag, UF_OBJ_BLANKED);\n\t\tUF_OBJ_set_blank_status (rh_fillet, UF_OBJ_BLANKED);\n\t\tUF_OBJ_set_blank_status (rh_spline, UF_OBJ_BLANKED);\n\t\tbreak;  \n\t}\n\tint_teeth_no = teeth_no;\n\tsprintf(teeth_no_st,"%d", int_teeth_no);\n\tangle1 = 360.0/teeth_no;\n\tsprintf(angle_st,"%f",angle1);\n\tUF_MODL_create_circular_iset (method1, origin, zc_dir, teeth_no_st, angle_st, loop_list, &instances );\n\n\tUF_MODL_ask_instance (instances, &instances_feature_list );\n\n\tUF_CALL(UF_MODL_ask_list_count(instances_feature_list,&num_instances));\n\tfor (i=0;i<num_instances;i++)\n\t{\n\t\tUF_CALL(UF_MODL_ask_list_item(instances_feature_list,i,&temp_tag));\n\t\tteeth_tag[i] = temp_tag;\n\t}\n\n\tUF_MODL_create_set_of_feature ("Teeth_set", &teeth_tag[0], num_instances, 1, &teeth_grp_tag );\n\n\tending1: ;\n\n\tUF_CALL(UF_VIEW_fit_view(NULL_TAG, 1.0));\t\n}\n\n/*ARGSUSED*/\nvoid ufusr(char *param, int *retcode, int param_len)\n{\n  if (!UF_CALL(UF_initialize()))\n  {\n    do_ugopen_api();\n    UF_CALL(UF_terminate());\n  }\n}\n\nint ufusr_ask_unload(void)\n{\n  return (UF_UNLOAD_IMMEDIATELY);\n}\n \n', 'tags': '', 'url': 'UGOpen.html'}, {'title': 'NX2008', 'text': 'NX2008 於 2022.01 釋出, 屬於 NX2007 系列 (2021.12 釋出). 容量約 30 GB. \n https://github.com/Bioruebe/UniExtract2  可用來解開 SiemensNX-2008_wntx64\\nx\\SiemensNX.msi, 但必須配合 SiemensNX-2008_wntx64\\nx\\VC_redist.x64.exe 的安裝或解壓縮檔案才能執行. \n 至於要解開\xa0SiemensNX-2008_wntx64\\nx\\VC_redist.x64.exe 中的檔案, 可先利用  https://github.com/wixtoolset/wix3/releases/tag/wix3112rtm  中的 wix311-binaries.zip, 以 wix311-binaries\\dark.exe vc_redist.x64.exe -x x64-extracted, 在 x64-extracted 目錄中取得 x64-extracted\\AttachedContainer\\packages\\vcRuntimeMinimum_amd64\\vc_runtimeMinimum_x64.msi 之後, 再利用 UniExtract2 解開所需的 dll 檔案後, 再放入 NXBIN 目錄. \n NX2008 啟動方式同 NX1980. \n', 'tags': '', 'url': 'NX2008.html'}, {'title': 'Onshape', 'text': '以  Onshape 中的 uArm robot . (並未自行繪製零組件而是從  uArmSwiftPro_UP1300_3D.STEP  import) \n', 'tags': '', 'url': 'Onshape.html'}, {'title': 'Tic-Tat-Toe', 'text': 'UR10e  Robot 透過影像辨識與人進行  Tic-Tat-Toe  遊戲: \n \n cd2022  則希望透過  uArm  robot 搬動 OX 棋子的方式進行  Tic-Tat-Toe  遊戲. \n Tic-Tat-Toe: \n https://www.cormerica.com/robot-tic-tac-toe/ \n Playing_Tic-Tac-Toe_Using_Genetic_Neural_Network_with_Double_transfer_functions.pdf \n \n \n uArm 資料: \n https://www.trossenrobotics.com/uarm-swift-pro.aspx \n https://github.com/uArm-Developer/UArmForArduino \n https://uarm-developer.github.io/UArmForArduino/ \n 且 uArm robot 的零組件要求分別由 Solvespace, NX1980 與 Onshape 執行設計繪圖後轉入 Coppeliasim 場景完成機電資系統模擬. \n 其中 uArm 原型零件採用 3D 列印或雷射切割的製造過程可依照  Realization  頁面中的模擬系統進行, 並包括齒輪減速機的設計運算與  Arduino 伺服馬達的控制模擬 . \n uArm 零組件: \n 以  Onshape 中的 uArm robot . (並未自行繪製零組件而是從  uArmSwiftPro_UP1300_3D.STEP  import) \n', 'tags': '', 'url': 'Tic-Tat-Toe.html'}, {'title': 'Threejs', 'text': 'https://threejs.org/ \n \n \n https://www.coppeliarobotics.com/helpFiles/en/externalFrontEnd.htm \n', 'tags': '', 'url': 'Threejs.html'}, {'title': 'run', 'text': '\n \n \n \n  for ggame  \n \n \n \n \n \n \n \n \n  Cango 程式庫  \n \n \n \n \n \n \n \n \n  for Konva 程式庫  \n \n \n \n \n  導入 FileSaver 與 filereader  \n \n \n \n \n  導入 ace  \n \n \n \n \n \n \n  請注意, 這裡使用 Javascript 將 localStorage["py_src"] 中存在近端瀏覽器的程式碼, 由使用者決定存檔名稱 \n \n \n \n add 1 to 100 p261 ROC flag PROC flag USA flag Draw Grid Random Rect Rect Walk Rect U Walk Rect rev U Walk 單節貪食蛇 5 個紅點方塊 Snake BSnake auto_guess ball bezier big_lotto brython_kw bunny cango_spur cango_spur1 cango_three_gears clear clock convert_temp deepmerge display_stl draw ex1 ex2 ex3 ex4 fibo fourbar grp2a_2022 grp_2022 guess_a_number hw1_1 hw1_2 Keycode knova1 merge3 power_lotto spur spur_w_form stl_binary_ascii stl_writer Tetris turtle1 turtle2 turtle3 turtle4 turtle5 turtle6 turtle7 turtle8 twl_link_ik webcam websocket ycqsort \n  ######################  editor1 開始 ######################  \n  用來顯示程式碼的 editor 區域  \n \n  以下的表單與按鈕與前面的 Javascript doSave 函式以及 FileSaver.min.js 互相配合  \n  存擋表單開始  \n Filename:  .py   \n  存擋表單結束  \n \n  執行與清除按鈕開始  \n Run   Output   清除輸出區 清除繪圖區 Reload \n  執行與清除按鈕結束  \n \n  程式執行 ouput 區  \n \n  Brython 程式執行的結果, 都以 brython_div 作為切入位置  \n  這裡的畫布 id 為 brython_div  \n \n  graphics-column is for ggame  \n \n  ######################  editor1 結束 ######################  \n  以下可以開始利用 editor1 的設定編寫對應 Brython 程式  \n \n  以上為內建程式, 頁面可透過 ?src=gist_url 執行  \n  add 1 to 100 開始  \n \n \n', 'tags': '', 'url': 'run.html'}, {'title': 'Brython', 'text': '2a 分組程式練習 \n 2b 分組程式練習 \n \n \n \n \n  for ggame  \n \n \n \n \n \n \n \n \n  Cango 程式庫  \n \n \n \n \n \n \n \n \n  for Konva 程式庫  \n \n \n \n \n  導入 FileSaver 與 filereader  \n \n \n \n \n  導入 ace  \n \n \n \n \n \n \n  請注意, 這裡使用 Javascript 將 localStorage["py_src"] 中存在近端瀏覽器的程式碼, 由使用者決定存檔名稱 \n \n \n \n  #####  editor1 開始 #####  \n  用來顯示程式碼的 editor 區域  \n \n  以下的表單與按鈕與前面的 Javascript doSave 函式以及 FileSaver.min.js 互相配合  \n  存擋表單開始  \n Filename:  .py   \n  存擋表單結束  \n \n  執行與清除按鈕開始  \n Run   Output   清除輸出區 清除繪圖區 Reload \n  執行與清除按鈕結束  \n \n  程式執行 ouput 區  \n \n  Brython 程式執行的結果, 都以 brython_div 作為切入位置  \n  這裡的畫布 id 為 brython_div  \n \n  graphics-column is for ggame  \n \n  #####  editor1 結束 #####  \n  以下可以開始利用 editor1 的設定編寫對應 Brython 程式  \n \n \n  印出程式2 \n \n \n \n  用來顯示程式碼的 editor 區域  \n \n  以下的表單與按鈕與前面的 Javascript doSave 函式以及 FileSaver.min.js 互相配合  \n Filename:  .py   \n Run   Output   清除輸出區 清除繪圖區 Reload \n \n \n   結束列印程式 2  \n  印出程式3 \n \n \n \n  用來顯示程式碼的 editor 區域  \n \n  以下的表單與按鈕與前面的 Javascript doSave 函式以及 FileSaver.min.js 互相配合  \n Filename:  .py   \n Run   Output   清除輸出區 清除繪圖區 Reload \n \n \n   結束列印程式 3 ', 'tags': '', 'url': 'Brython.html'}]};